<table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp">
  <thead>
    <tr>
      <th>Deliverable</th>
      <th><%= @start_month.strftime("%b") %><br>Actual</th>
      <th><%= 1.month.since(@start_month).strftime("%b") %><br>Actual</th>
      <th><%= 2.months.since(@start_month).strftime("%b") %><br>Actual</th>
      <th><%= pretty_quarter(@quarter, true) %><br>Target</th>
      <th><%= pretty_quarter(@quarter, true) %><br>Actual</th>
      <% q = @quarter %>
      <% 3.times do %>
        <% q = next_quarter(q) %>
        <th><%= pretty_quarter(q, true) %><br>Target</th>
      <% end %>
    </tr>
  </thead>
  <tbody>
  <% table_data = quarterly_summary(@stream, @outputs, @aggregate_outputs, @start_month, @targets, @quarter) %>
  <% table_data.each do |row| %>
    <tr>
      <% row.each_with_index do |col, i| %>
        <% if i == 5 %>
          <td data-assessment="<%= assessment row[i-1], col %>"><%= col %></td>
        <% else %>
          <td><%= col %></td>
        <% end %>
      <% end %>
    </tr>
  <% end %>
  </tbody>
</table>